(this.webpackJsonpstangers_things_projects=this.webpackJsonpstangers_things_projects||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(11),c=n.n(r),a=n(4),i=n(3),o=n.n(i),j=n(7),u=n(2),l=n(5),h=n(0),d=function(e){var t=e.postResults,n=e.token;if(!t.posts)return Object(h.jsx)(h.Fragment,{});var r=Object(s.useState)(""),c=Object(u.a)(r,2),i=c[0],o=c[1];var j=t.posts.filter((function(e){return function(e,t){return!!(e.author.username.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.location.toLowerCase().includes(t)||e.price.toLowerCase().includes(t)||e.title.toLowerCase().includes(t))}(e,i)})),l=i.length?j:t.posts;return Object(h.jsxs)("div",{className:"posts-page",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h2",{children:"Posts"}),Object(h.jsxs)("form",{className:"addPost-form",children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"searchTerm",value:i,onChange:function(e){return o(e.target.value)}})]}),n?Object(h.jsx)("button",{children:Object(h.jsx)(a.b,{to:"/AddPost",children:"Add Post"})}):null]}),t.posts?l.map((function(e){return Object(h.jsxs)("div",{className:"public-posts",children:[Object(h.jsx)("h1",{children:e.title}),Object(h.jsx)("p",{children:e.description}),Object(h.jsx)("h4",{children:e.price}),Object(h.jsx)("h3",{children:e.author.username}),Object(h.jsx)("h4",{children:e.location}),n?Object(h.jsx)("button",{children:Object(h.jsx)(a.b,{to:"/PostDetail/".concat(e._id),children:"Details"})}):null]},e._id)})):null]})},b=function(e){var t=e.setToken,n=Object(s.useState)(""),r=Object(u.a)(n,2),c=r[0],i=r[1],d=Object(s.useState)(""),b=Object(u.a)(d,2),p=b[0],O=b[1],x=Object(s.useState)(""),m=Object(u.a)(x,2),f=m[0],g=m[1],v=Object(l.e)(),k=function(){var e=Object(j.a)(o.a.mark((function e(n){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),g(""),e.next=4,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:c,password:p}})});case 4:return s=e.sent,e.next=7,s.json();case 7:if(!(r=e.sent).error){e.next=10;break}return e.abrupt("return",g(r.error.message));case 10:t(r.data.token),localStorage.setItem("token",r.data.token),v.push("/");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"container",children:[Object(h.jsx)("div",{id:"login-navbar",children:"Login:"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(e),i(""),O("")},children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"username",value:c,onChange:function(e){i(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(h.jsx)("input",{required:!0,type:"password",name:"password",value:p,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]}),Object(h.jsx)("p",{children:"Haven't created an account yet?"}),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(a.b,{to:"/Register",children:"Register Here"})}),Object(h.jsx)("p",{children:f})]})},p=function(e){var t=e.token,n=e.setToken,s=e.setUser;e.user;return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsxs)("div",{id:"main-navbar",children:[Object(h.jsx)(a.b,{id:"icon",to:"/",children:Object(h.jsx)("i",{className:"material-icons",children:"home"})}),Object(h.jsx)(a.b,{id:"icon",to:"/Posts",children:Object(h.jsx)("i",{className:"material-icons",children:"collections_bookmark"})}),Object(h.jsx)(a.b,{id:"icon",to:"/Account",children:Object(h.jsx)("i",{className:"material-icons",children:"account_circle"})}),Object(h.jsx)(a.b,{id:"icon",to:"/",onClick:function(){n(""),s({}),localStorage.removeItem("token")},children:Object(h.jsx)("i",{className:"material-icons",children:"logout"})})]}):Object(h.jsxs)("div",{id:"main-navbar",children:[Object(h.jsx)(a.b,{id:"icon",to:"/",children:Object(h.jsx)("i",{className:"material-icons",children:"home"})}),Object(h.jsx)(a.b,{id:"icon",to:"/Posts",children:Object(h.jsx)("i",{className:"material-icons",children:"collections_bookmark"})}),Object(h.jsx)(a.b,{id:"icon",to:"/Login",children:Object(h.jsx)("i",{className:"material-icons",children:"login"})})]})})},O=function(e){var t=e.setToken,n=Object(s.useState)(""),r=Object(u.a)(n,2),c=r[0],a=r[1],i=Object(s.useState)(""),d=Object(u.a)(i,2),b=d[0],p=d[1],O=Object(s.useState)(""),x=Object(u.a)(O,2),m=x[0],f=x[1],g=Object(s.useState)(""),v=Object(u.a)(g,2),k=v[0],y=v[1],T=Object(l.e)(),P=function(){var e=Object(j.a)(o.a.mark((function e(n){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),y(""),b===m){e.next=5;break}return y("Your password do not match!"),e.abrupt("return");case 5:return e.next=7,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:c,password:b}})});case 7:return s=e.sent,e.next=10,s.json();case 10:if(!(r=e.sent).error){e.next=13;break}return e.abrupt("return",y(r.error.message));case 13:t(r.data.token),localStorage.setItem("token",r.data.token),T.push("/");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"container",children:[Object(h.jsx)("div",{id:"login-navbar",children:"Register:"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),P(e),a(""),p(""),f("")},children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"username",value:c,onChange:function(e){a(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(h.jsx)("input",{required:!0,type:"password",name:"password",value:b,onChange:function(e){return p(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"confirm_password",children:"Confirm Password:"}),Object(h.jsx)("input",{required:!0,type:"password",name:"confirm_password",value:m,onChange:function(e){return f(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]}),Object(h.jsx)("p",{children:k})]})},x=function(e){var t=e.user;return console.log(t),Object(h.jsxs)("div",{className:"home-page",children:[Object(h.jsxs)("h1",{id:"home-title",children:["Welcome To Stanger's Things ",t?t.username:null]}),Object(h.jsx)("h1",{id:"logo",children:"\ud83c\udf4a"}),Object(h.jsx)("h2",{children:"Our Website is just like craigslist but better."}),Object(h.jsx)("h2",{children:"Please enjoy, we are very happy for your interest!"})]})},m=function(e){var t=e.user;if(!t)return Object(h.jsx)(h.Fragment,{});var n=t.posts.filter((function(e){return 1==e.active})),s=t.messages.filter((function(e){return e.fromUser.username===t.username})),r=t.messages.filter((function(e){return e.fromUser.username!==t.username}));return Object(h.jsxs)("div",{className:"account-page",children:[Object(h.jsxs)("header",{className:"account-header",children:[Object(h.jsxs)("div",{className:"account-functions",children:[Object(h.jsx)("img",{id:"profile-pic",src:"https://img.icons8.com/bubbles/100/000000/test-account.png"}),Object(h.jsx)("h1",{children:t.username})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{id:"logo-account",children:"\ud83c\udf4a"}),Object(h.jsx)("h1",{children:"Stanger's Things"})]})]}),Object(h.jsxs)("main",{className:"account-body",children:[Object(h.jsx)("h1",{id:"user-post-title",children:"Your Post's!!"}),Object(h.jsx)(h.Fragment,{children:t?n.map((function(e){return Object(h.jsxs)("div",{className:"user-posts",children:[Object(h.jsx)(a.b,{to:"/PostDetail/".concat(e._id),children:Object(h.jsx)("h1",{children:e.title})}),Object(h.jsx)("p",{children:e.description}),Object(h.jsx)("h4",{children:e.price}),Object(h.jsx)("h3",{children:e.author.username}),Object(h.jsx)("h4",{children:e.location})]},e._id)})):Object(h.jsx)("h2",{children:"No User Posts Yet!"})}),Object(h.jsx)("h1",{id:"user-post-title",children:"Your Messages!"}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"Recived Messages:"}),r[0]?r.map((function(e){return Object(h.jsxs)("div",{className:"user-messages",children:[Object(h.jsx)(a.b,{to:"/PostDetail/".concat(e.post),children:Object(h.jsx)("h1",{children:e.post.title})}),Object(h.jsx)("h3",{children:e.content}),Object(h.jsx)("h4",{children:e.fromUser.username})]},e._id)})):Object(h.jsx)("h2",{children:"No Messages Yet!"})]}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"Sent Messages:"}),s[0]?s.map((function(e){return Object(h.jsxs)("div",{className:"user-messages",children:[Object(h.jsx)(a.b,{to:"/PostDetail/".concat(e.post),children:Object(h.jsx)("h1",{children:e.post.title})}),Object(h.jsx)("h3",{children:e.content}),Object(h.jsx)("h4",{children:e.fromUser.username})]},e._id)})):Object(h.jsx)("h2",{children:"No Sent Messages Yet!"})]})]}),Object(h.jsxs)("footer",{className:"account-footer",children:[Object(h.jsx)("div",{id:"creator-name",children:Object(h.jsx)("p",{children:"Concilla.LLC"})}),Object(h.jsxs)("div",{id:"social-links",children:[Object(h.jsx)("p",{children:"Insta"}),Object(h.jsx)("p",{children:"Facebook"}),Object(h.jsx)("p",{children:"Social"})]})]})]})},f=function(e){var t=e.token,n=e.setPostResults,r=Object(s.useState)(""),c=Object(u.a)(r,2),a=c[0],i=c[1],d=Object(s.useState)(""),b=Object(u.a)(d,2),p=b[0],O=b[1],x=Object(s.useState)(""),m=Object(u.a)(x,2),f=m[0],g=m[1],v=Object(s.useState)(""),k=Object(u.a)(v,2),y=k[0],T=k[1],P=Object(s.useState)(""),S=Object(u.a)(P,2),w=S[0],F=S[1],C=Object(l.e)();function N(){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,n(s.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(){var e=Object(j.a)(o.a.mark((function e(n){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),F(""),e.next=4,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({post:{title:a,description:p,price:f,location:y}})});case 4:return s=e.sent,e.next=7,s.json();case 7:if(!(r=e.sent).error){e.next=10;break}return e.abrupt("return",F(r.error.message));case 10:N(),C.push("/Posts");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"addPost-container",children:[Object(h.jsx)("div",{id:"addPost-title",children:Object(h.jsx)("h2",{children:"Please Fill Out the Information Below to Create a New Post!"})}),Object(h.jsxs)("form",{className:"addPost-form",onSubmit:B,children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"title",value:a,onChange:function(e){return i(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(h.jsx)("input",{required:!0,type:"description",name:"description",value:p,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(h.jsx)("input",{required:!0,type:"price",name:"price",value:f,onChange:function(e){return g(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"location",children:"Location:"}),Object(h.jsx)("input",{required:!0,type:"location",name:"location",value:y,onChange:function(e){return T(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]}),Object(h.jsx)("p",{children:w})]})},g=function(e){var t=e.postResults,n=e.token,r=(e.user,e.setPostResults),c=Object(l.f)().id,i=Object(s.useState)(""),d=Object(u.a)(i,2),b=d[0],p=d[1],O=Object(s.useState)(""),x=Object(u.a)(O,2),m=x[0],f=x[1],g=Object(s.useState)(""),v=Object(u.a)(g,2),k=v[0],y=v[1],T=Object(l.e)();if(!t.posts)return Object(h.jsx)(h.Fragment,{});var P=t.posts.filter((function(e){return e._id===c}));function S(){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){var e=Object(j.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(""),e.next=3,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts/".concat(c),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(s=e.sent).error){e.next=9;break}return e.abrupt("return",y(s.error.message));case 9:S(),T.push("/Posts");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(""),p(""),e.next=5,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts/".concat(c,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({message:{content:b}})});case 5:return s=e.sent,e.next=8,s.json();case 8:if(!(r=e.sent).error){e.next=11;break}return e.abrupt("return",y(r.error.message));case 11:S(),p(""),T.push("/Posts");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(""),console.log(P),e.next=5,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts/".concat(c,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({message:{content:m}})});case 5:return s=e.sent,e.next=8,s.json();case 8:if(!(r=e.sent).error){e.next=11;break}return e.abrupt("return",y(r.error.message));case 11:console.log(k),S(),T.push("/Posts");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"post-detail",children:P[0].isAuthor?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"public-post",children:[Object(h.jsx)("h1",{children:P[0].title}),Object(h.jsxs)("h3",{children:["Description: ",P[0].description]}),Object(h.jsxs)("h3",{children:["Price: ",P[0].price]}),Object(h.jsxs)("h3",{children:["Location: ",P[0].location]}),Object(h.jsxs)("h3",{children:["Will Deliver: ",P[0].willDeliver]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{children:Object(h.jsx)(a.b,{to:"/EditPost/".concat(P[0]._id),children:"Edit"})}),Object(h.jsx)("button",{onClick:F,children:"Delete"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{id:"message-title",children:"Messages:"}),Object(h.jsxs)("div",{children:[P[0].messages?P[0].messages.map((function(e){return Object(h.jsxs)("div",{id:"message-box",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{id:"message-title",children:"Message:"}),Object(h.jsx)("h3",{children:e.content})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("h3",{children:["From: ",e.fromUser.username]})})]},e._id)})):Object(h.jsx)("h2",{children:"No Messages Yet!"}),P[0].messages?Object(h.jsxs)("form",{className:"addPost-form",onSubmit:N,children:[Object(h.jsx)("label",{htmlFor:"title",children:"Respond:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"message",value:m,onChange:function(e){return f(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]}):null]})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"public-post",children:[Object(h.jsx)("h1",{children:P[0].title}),Object(h.jsxs)("h3",{children:["Description: ",P[0].description]}),Object(h.jsxs)("h3",{children:["Price: ",P[0].price]}),Object(h.jsxs)("h3",{children:["Location: ",P[0].location]}),Object(h.jsxs)("h3",{children:["Will Deliver: ",P[0].willDeliver]})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Creator: ",P[0].author.username]}),Object(h.jsxs)("form",{className:"addPost-form",onSubmit:C,children:[Object(h.jsx)("label",{htmlFor:"title",children:"Message:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"message",value:b,onChange:function(e){return p(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]})]})]})})},v=function(e){var t=e.token,n=e.setPostResults,r=e.postResults,c=Object(l.f)().id,a=Object(s.useState)(""),i=Object(u.a)(a,2),d=i[0],b=i[1],p=Object(s.useState)(""),O=Object(u.a)(p,2),x=O[0],m=O[1],f=Object(s.useState)(""),g=Object(u.a)(f,2),v=g[0],k=g[1],y=Object(s.useState)(""),T=Object(u.a)(y,2),P=T[0],S=T[1],w=Object(s.useState)(""),F=Object(u.a)(w,2),C=F[0],N=F[1],E=Object(l.e)();function B(){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,n(s.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){var e=r.posts.filter((function(e){return e._id===c}));b(e[0].title),m(e[0].description),k(e[0].price),S(e[0].location)}()}),[]);var _=function(){var e=Object(j.a)(o.a.mark((function e(n){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),N(""),e.next=4,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts/".concat(c),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({post:{title:d,description:x,price:v,location:P}})});case 4:return s=e.sent,e.next=7,s.json();case 7:if(!(r=e.sent).error){e.next=10;break}return e.abrupt("return",N(r.error.message));case 10:B(),E.push("/PostDetail/".concat(c));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"addPost-container",children:[Object(h.jsx)("div",{id:"addPost-title",children:Object(h.jsx)("h2",{children:"Please Edit the Information Below and Submit:"})}),Object(h.jsxs)("form",{className:"addPost-form",onSubmit:_,children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"title",value:d,onChange:function(e){return b(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(h.jsx)("input",{required:!0,type:"description",name:"description",value:x,onChange:function(e){return m(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(h.jsx)("input",{required:!0,type:"price",name:"price",value:v,onChange:function(e){return k(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"location",children:"Location:"}),Object(h.jsx)("input",{required:!0,type:"location",name:"location",value:P,onChange:function(e){return S(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]}),Object(h.jsx)("p",{children:C})]})},k=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(""),a=Object(u.a)(c,2),i=a[0],k=a[1],y=Object(s.useState)(null),T=Object(u.a)(y,2),P=T[0],S=T[1];function w(){return(w=Object(j.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},t=i?{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}:{"Content-Type":"application/json"},e.next=4,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/posts",{method:"GET",headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,r(s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("token"))&&k(t),e.next=4,fetch("https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/users/me",{headers:{Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.next=7,n.json();case 7:(s=e.sent).success&&S(s.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){F(),function(){w.apply(this,arguments)}()}),[i]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p,{token:i,setToken:k,setUser:S,user:P}),Object(h.jsx)(l.a,{exact:!0,path:"/",children:Object(h.jsx)(x,{user:P})}),Object(h.jsx)(l.a,{path:"/Account",children:Object(h.jsx)(m,{user:P})}),Object(h.jsx)(l.a,{path:"/Posts",children:Object(h.jsx)(d,{postResults:n,token:i})}),Object(h.jsx)(l.a,{path:"/Login",children:Object(h.jsx)(b,{token:i,setToken:k})}),Object(h.jsx)(l.a,{path:"/Register",children:Object(h.jsx)(O,{token:i,setToken:k})}),Object(h.jsx)(l.a,{path:"/AddPost",children:Object(h.jsx)(f,{setPostResults:r,token:i})}),Object(h.jsx)(l.a,{path:"/PostDetail/:id",children:Object(h.jsx)(g,{user:P,token:i,postResults:n,setPostResults:r})}),Object(h.jsx)(l.a,{path:"/EditPost/:id",children:Object(h.jsx)(v,{postResults:n,setPostResults:r,token:i})})]})},y=document.getElementById("app");c.a.render(Object(h.jsx)(a.a,{children:Object(h.jsx)(k,{})}),y)}},[[31,1,2]]]);
//# sourceMappingURL=main.668cf91b.chunk.js.map